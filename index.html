<!DOCTYPE html>
<html lang="pt-brw">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
</head>

<script>

    window.onload = function() {
        console.log("teste");
    };
    
    //posts counter

    document.addEventListener("DOMContentLoaded", () => {
    document.addEventListener("click", async (event) => {
        if (event.target.classList.contains("post-rating-button")) {
            const button = event.target;
            const post = button.closest(".post");
            const postId = post.getAttribute("data-post-id");

            if (!postId) {
                console.error("Erro: Post sem ID!");
                return;
            }

            const ratingContainer = button.closest(".post-rating");
            const isUpvote = button.classList.contains("upvote");
            const countSpan = ratingContainer.querySelector(".post-rating-count");

            if (!countSpan) {
                console.error("Erro: Contador de votos nÃ£o encontrado.");
                return;
            }

            try {
                const response = await fetch(`/posts/${postId}/${isUpvote ? "upvote" : "downvote"}`, {
                    method: "POST"
                });

                const data = await response.json();

                if (data.success) {
                    countSpan.textContent = data.newCount;
                } else {
                    console.error("Erro ao votar:", data);
                }
            } catch (error) {
                console.error("Erro na requisiÃ§Ã£o:", error);
            }
        }
    });
});


    </script>

<style>




    body {
    background-color: black;
    color: green;
    font-family: monospace;
    padding: 20px;
}

h1, h2 {
    color: limegreen;
}

cite {
    color: darkgreen;
    font-style: italic;
}

/* Estilizando as tabelas para parecerem um terminal */
table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 20px;
    background-color: black;
    border: 1px solid green;
}

td {
    border: 1px solid green;
    padding: 10px;
    text-align: left;
}

a {
    color: limegreen;
    text-decoration: none;
}

a:hover {
    color: white;
    text-shadow: 0px 0px 5px green;
}

/* Estilo para as datas */
.data {
    font-weight: bold;
    color: darkgreen;
}

/* Ajustando os posts */
.post {
    color: lightgreen;
}

/* Criando um efeito de terminal piscando */
@keyframes blink {
    50% { opacity: 0; }
}

.blink {
    animation: blink 1s step-start infinite;
}

/* posts counter */

.post-rating:not(.post-rating-selected) > .post-rating-button:hover {
    color: #fff;


}

/* Estilizando o container do post */
.post-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
}

/* ContÃªiner para os botÃµes de upvote e downvote */
.post-rating-container {
    display: flex;
    flex-direction: column; /* Organiza os botÃµes verticalmente */
    align-items: center; /* Centraliza os botÃµes */
    margin-left: auto; /* Joga para a direita */
}

/* Estilizando os botÃµes de upvote e downvote */
.post-rating {
    display: flex;
    align-items: center;
    gap: 5px; /* EspaÃ§o entre Ã­cone e nÃºmero */
}

.post-rating-button {
    width: 16px;
    height: 16px;
    cursor: pointer;
    filter: invert(1); /* Deixa os Ã­cones brancos */
    transition: transform 0.2s ease-in-out;
}

/* Efeito de hover nos botÃµes */
.vote:hover {
    transform: scale(1.2);
}


</style>
<body>
    <header>

    </header>

    <head></head>
<body>
<header>
    <h1 class="title">Seja Bem-Vind0, caro Coronita.</h1>
    <cite># root - 07/01/2025.</cite>
</header>

<article>
    <h2 class="">/artigos/</h2>
    <table class="ti">
            <tr>
                <td class="data">25/02/2021</td>
                <td class="post" data-post-id="123">
                    <div class="post-container">
                        <a href="artigos/instalando_linux_por_cima_do_windows_via_windows.html">
                            Instalando Linux por cima do Windows via Windows.
                        </a>
                        <div class="post-rating post-rating-selected">
                            <img class="post-rating-button upvote" src="./public/images/up.svg"/>
                            <span class="post-rating-count">0</span>
                        </div>
                        <div class="post-rating">
                            <img class="post-rating-button downvote" src="./public/images/down.svg"/>
                            <span class="post-rating-count">0</span>
                        </div>
                    </div>
                </td>
                
            </tr>   
            
            <tr>
                <td class="data">25/02/2021</td>
                <td class="post">
                    <a href="artigos/instalando_linux_por_cima_do_windows_via_windows.html">
                        Exemplo_de_post.
                    </a>
                </td>
            </tr>
    </table>

    <h2>/artigos/deepweb_about/</h2>
    <table class="ti"></table>

    <h2>/artigos/enigma_paradise_resolucao/</h2>
    <table class="ti">ðŸ’¬</table>

    <h2>/biblioteca/</h2>
    <table class="ti">ðŸ’¬</table>

    <h2>/dicas/</h2>
    <table class="ti">ðŸ’¬</table>

    <h2>/humanidades/</h2>
    <table class="ti">ðŸ’¬</table>
</article>
</body>

</body>
</html>

<script src="./public/script/index.js"></script>